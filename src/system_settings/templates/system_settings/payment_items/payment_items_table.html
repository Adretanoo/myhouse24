{% extends "base_adminlte.html" %}
{% load static %}
{% block head %}
    <title>Статьи платежей</title>
    <meta name="description" content="Статьи платежей">
    <meta name="keywords" content="Статьи платежей">
    <link href="{% static 'ajax_datatable/css/style.css' %}" rel="stylesheet" />
    <link href="//cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" />
    <link rel="stylesheet"
          href="{% static 'adminlte/dist/css/payment_items.css' %}">
{% endblock head %}
{% block title %}
    <h1>Статьи приходов/расходов</h1>
{% endblock title %}
{% block breadcrumbs %}
{% endblock breadcrumbs %}
{% block content %}
    <div class="row">
        <div class="col-xs-12 col-lg-12">
            <div class="pull-right mb-4">
                <a class="btn btn-success" href="{% url 'payment_items_add' %}">Добавить статью</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-lg-12">
            <div class="box">
                <div id="w0" class="grid-view">
                    <div class="box-body table-responsive no-padding">
                        <table id="table_payment_items" class="table table-bordered table-striped">
                            <thead>
                            </thead>
                            <tbody>
                                <tr class="loading_tr">
                                    <td colspan="3">Loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="box-footer clearfix"></div>
                </div>
            </div>
        </div>
        <form id="deleteForm" method="post">
            {% csrf_token %}
        </form>
    </div>
{% endblock content %}
{% block scripts %}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="//cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript"
            src="{% static 'ajax_datatable/js/utils.js' %}"></script>
    <script>
        $(document).ready(function () {
            AjaxDatatableViewUtils.initialize_table(
                $('#table_payment_items'),
                "{% url 'ajax_payment_items' %}",
                {
                    dom: 'lrtip',
                    info: false,
                    processing: false,
                    autoWidth: false,
                    lengthChange: false,
                    pageLength: 10,
                    order: [[0, 'asc']],
                    scrollX: false,
                    scrollY: false,
                    language: {search: ""},
                    paging: false,
                    searching: false,
                },
                {}
            );
        });
    </script>
    <script src="{% static 'adminlte/dist/js/payment_items_delete.js' %}" defer></script>
{% endblock scripts %}
